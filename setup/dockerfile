# this dockerfile can be used to test the install script
# for the tools with a fresh ubuntu installation
# is not a guarentee, that it will work with a real pc
# but is a good tool to find issues
# you can use this to do the tests:

# docker build -t test:latest -f ./dockerfile . && docker run -it --rm  test:latest

# Use a fresh Ubuntu image
FROM ubuntu:22.04

# Avoid interactive prompts
ENV DEBIAN_FRONTEND=noninteractive

# Make sure basic tools exist
RUN apt update && apt install -y \
	sudo \
	curl \
	git \
	zsh \
	build-essential \
	ca-certificates

# Create a non-root user (optional but closer to a real machine)
RUN useradd -m dev && echo "dev ALL=(ALL) NOPASSWD:ALL" >> /etc/sudoers
USER dev
WORKDIR /home/dev

# Copy your setup script into the container
COPY install_tools.sh /home/dev/install_tools.sh
RUN sudo chmod +x /home/dev/install_tools.sh

# Run the script automatically (optionalâ€”you can also run it manually)
# RUN /home/dev/install_tools.sh

CMD ["/bin/bash"]
